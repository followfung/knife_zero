{
  "name" : "atom",
  "chef_type" : "role",
  "description" : "Sets up AtoM v2.4.x from RULA repsitories",
  "json_class" : "Chef::Role",
  "default_attributes" : {
    "lits_vm" : {
      "packages" : [
        "gearmand",
        "memcached",
        "ImageMagick",
        "ghostscript",
        "poppler-utils",
        "fop"
      ]
    },
    "nodejs" : {
      "npm_packages" : [
        { "name" : "less" },
        { "name" : "gulp" }
      ]
    },
    "elasticsearch" : {
      "version" : "1.7.0",
      "allocated_memory" : "512m"
    },
    "atom" : {
      "git_repo" : "git://github.com/ryersonlibrary/atom.git",
      "git_revision" : "RULA/2.4.x",
      "plugins" : [
        {
          "name" : "rulaArchivesPlugin",
          "git_repo" : "https://github.com/ryersonlibrary/rulaArchivesPlugin.git"
        }
      ],
      "config" : {
        "factories" : {
          "user_timeout" : "3600"
        }
      }
    }
  },
  "override_attributes" : {
    "php" : {
      "packages" : [
        "php56w-pecl-gearman",
        "php56w-pecl-imagick",
        "php56w-pecl-memcache"
      ]
    }
  },
  "run_list" : [
    "recipe[lits_vm]",
    "role[lemp]",
    "role[webtatic56]",
    "recipe[atom]",
    "recipe[lits_vm::nginx_sites]",
    "recipe[lits_vm::elasticsearch]",
    "recipe[lits_vm::ffmpeg]"
  ]
}